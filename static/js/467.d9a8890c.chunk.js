"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[467],{9467:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn}});var i,a,r,o,s,c,l,d,x,p,u,m,h=t(7762),f=t(9439),g=t(1582),y=t(4721),v=t(168),b=t(6088),j=b.Z.div(i||(i=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media screen and (min-width: 480px) {\n    flex-direction: row;\n    align-items: baseline;\n  }\n"]))),Z=(0,b.Z)(g.Z)(a||(a=(0,v.Z)(["\n  width: 100%;\n  background: #ffffff;\n  box-shadow: 5px 10px 20px rgba(170, 178, 197, 0.4);\n  border-radius: 20px;\n  padding: 20px 10px;\n  @media screen and (min-width: 480px) {\n    box-shadow: 0px 10px 60px rgba(170, 178, 197, 0.2);\n    border-radius: 30px;\n  }\n"]))),w=b.Z.p(r||(r=(0,v.Z)(["\n  margin: 0;\n  margin-bottom: 4px;\n  font-size: 14px;\n  font-weight: 700;\n  line-height: calc(16.41 / 14);\n"]))),C=b.Z.span(o||(o=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 700;\n  line-height: calc(16.41 / 14);\n  color: ",";\n  @media screen and (min-width: 480px) {\n    margin-left: 15px;\n  }\n"])),(function(n){return n.color})),I=t(3329),M=function(n){var e=n.incomeTotal,t=void 0===e?null:e,i=n.expenseTotal,a=void 0===i?null:i;return(0,I.jsx)(Z,{children:(0,I.jsxs)(g.Z,{direction:"row",spacing:2,sx:{display:"flex",justifyContent:"center"},children:[(0,I.jsxs)(j,{children:[(0,I.jsx)(w,{children:"Expenses:"}),(0,I.jsxs)(C,{color:"#E53935",children:["- ",a.toFixed(2)," UAH"]})]}),(0,I.jsx)(y.Z,{orientation:"vertical",variant:"middle",sx:{borderBottomWidth:2,bgcolor:"secondary.light"},flexItem:!0}),(0,I.jsxs)(j,{children:[(0,I.jsx)(w,{children:"Income:"}),(0,I.jsxs)(C,{color:"#407946",children:[" + ",t.toFixed(2)," UAH"]})]})]})})},k=t(1413),F=t(3433),E=t(890),T=b.Z.div(s||(s=(0,v.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction:column ;\nbackground-color: transparent;\n"]))),D=t(1087),S=b.Z.p(c||(c=(0,v.Z)(["\n    margin:0;\n    font-family: 'Roboto';\n    font-weight: 500;\n    font-size: 12px;\n    line-height: calc(14/12);\n    letter-spacing: 0.04;\n    color:#52555F;\n"]))),_=(0,b.Z)(D.rU)(l||(l=(0,v.Z)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap:18px;\n    text-decoration: none;\n    margin-bottom:",";\n    max-width: 150px;\n\n    \n    \n\n"])),(function(n){return n.width<=480?"22px":0})),N=t(8977),A=t(2791),z=t(9434),H=(t(7632),t(1766)),P=t(8134),U=t(1574),q=function(n){var e=n.setChartToDefault,t=void 0===e?function(){return null}:e,i=(0,A.useState)(0),a=(0,f.Z)(i,2),r=a[0],o=a[1],s=(0,z.I0)(),c=(0,z.v9)((function(n){return n.transactions.transExpense})),l=(0,z.v9)((function(n){return n.transactions.transIncome})),d=(0,N.Z)(new Date,"MMMM yyyy");if(!c||!l)return null;var x=m(c),p=m(l),u=Array.from(new Set([d].concat((0,F.Z)(x),(0,F.Z)(p)).sort((function(n,e){return Number(e.date)-Number(n.date)}))));function m(n){return Array.from(new Set((0,F.Z)(n.map((function(n){return(0,k.Z)((0,k.Z)({},n),{},{date:new Date(n.date)})})).sort((function(n,e){return Number(e.date)-Number(n.date)})).map((function(n){return(0,N.Z)(new Date(n.date),"MMMM yyyy")})))))}return(0,I.jsxs)(T,{children:[(0,I.jsx)(S,{children:"Current period: "}),(0,I.jsx)(H.Z,{className:"js-period",style:{width:"155px",display:"flex"},slide:!1,activeIndex:r,defaultActiveIndex:r,interval:null,indicators:!1,nextIcon:(0,I.jsx)(P.Tg,{}),prevIcon:(0,I.jsx)(P.zF,{}),onSlid:function(n){var e=document.querySelector(".js-period").querySelector(".active.carousel-item").firstChild.textContent;s((0,U.Nv)((0,N.Z)(new Date(e),"yyyy-MM"))),t()},onSelect:function(n){o(n)},children:u.map((function(n,e){return(0,I.jsxs)(H.Z.Item,{style:{backgroundColor:"trasparent",color:"black",marginTop:"20px",textAlign:"center",margin:"auto"},children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,I.jsx)(E.Z,{variant:"button",children:n})}),(0,I.jsx)(H.Z.Caption,{})]},e)}))})]})},B=t(7518),R=t(1889),O="ExpIncMenuItem_item__k7MY6",L="ExpIncMenuItem_total__lbKxM",Q="ExpIncMenuItem_category__cGoDw",W="ExpIncMenuItem_btn__eHiiU",G="ExpIncMenuItem_icon__LBrHQ",J=t(8420),K=function(n){n.idx;var e=n.item,t=n.onCategoryClick,i=void 0===t?function(){return null}:t,a=e.total,r=e.category,o=e.SvgIcon;return(0,I.jsxs)(J.E.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:O,children:[(0,I.jsx)("p",{className:L,children:a}),(0,I.jsx)("button",{className:W,onClick:function(){return i(r)}}),(0,I.jsx)(o,{className:G}),(0,I.jsx)("p",{className:Q,children:r})]})},V=t(9291),X=(0,b.Z)(R.ZP)(d||(d=(0,v.Z)(["\n    margin-top: 32px;\n    background-color: white;\n    border-radius: 30px;\n    padding:20px 0;\n      \n    \n    @media screen  and (min-width: 480px){\n        box-shadow: 0px 10px 60px rgba(170, 178, 197, 0.2);\n        border-radius: 30px;  \n    }\n"]))),Y={hidden:{opacity:0,scale:0},visible:{opacity:1,scale:1,transition:{duration:.25}}},$={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{type:"spring",damping:12,stiffness:100}}},nn={hidden:{opacity:0,x:-100,transition:{type:"spring",damping:12,stiffness:100}},visible:{opacity:1,x:0,transition:{type:"spring",damping:12,stiffness:100}}},en=function(n){var e=n.categories,t=void 0===e?[]:e,i=n.children,a=n.onCategoryClick,r=void 0===a?function(){return null}:a,o=(0,V.Z)().width;return(0,I.jsxs)(X,{container:!0,component:J.E.div,variants:Y,initial:"hidden",animate:"visible",spacing:0,justifyContent:"center",alignItems:"center",children:[i,(0,I.jsx)(R.ZP,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",style:{paddingTop:"20px"},children:t.length>0?t.map((function(n,e){return(0,I.jsxs)(A.Fragment,{children:[(0,I.jsx)(R.ZP,{item:!0,xs:4,sm:3,md:2,children:(0,I.jsx)(K,{idx:e,item:n,onCategoryClick:r})},e),o<=480&&((e+1)%3===0||e===t.length-1)&&(0,I.jsx)(R.ZP,{item:!0,xs:12,children:(0,I.jsx)(y.Z,{orientation:"horizontal",sx:{borderBottomWidth:2,bgcolor:"secondary.light"},variant:"middle",style:{marginTop:"10px",marginBottom:"10px"}})})]},e)})):(0,I.jsxs)("div",{children:[(0,I.jsx)(E.Z,{variant:"button",component:J.E.p,variants:$,initial:"hidden",animate:"visible",children:"no categories to show!"}),(0,I.jsx)(J.E.div,{variants:nn,initial:"hidden",animate:"visible",children:(0,I.jsx)(P.me,{})})]})})]})},tn=t(9485),an=function(n){var e=n.setChartToDefault,t=void 0===e?function(){return null}:e,i=(0,tn.A)().toggle;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(T,{children:(0,I.jsx)(H.Z,{className:"js-trans",style:{width:"155px",display:"flex"},slide:!1,interval:null,indicators:!1,nextIcon:(0,I.jsx)(P.Tg,{}),prevIcon:(0,I.jsx)(P.zF,{}),onSlid:function(n){var e=document.querySelector(".js-trans").querySelector(".active.carousel-item").firstChild.textContent;i(e),t()},children:["EXPENSES","INCOME"].map((function(n,e){return(0,I.jsxs)(H.Z.Item,{style:{backgroundColor:"trasparent",color:"black",marginTop:"20px",textAlign:"center",margin:"auto"},children:[(0,I.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,I.jsx)(E.Z,{variant:"button",children:n})}),(0,I.jsx)(H.Z.Caption,{})]},e)}))})})})},rn=t(3623),on=(t(550),t(1213)),sn=b.Z.div(x||(x=(0,v.Z)(["\n    margin-top: 32px;\n    background-color: white;\n    height:400px;\n    border-radius: 30px;\n    margin-bottom: 52px;\n    overflow: hidden;\n    \n    @media screen and (min-width: 480px){\n        box-shadow: 0px 10px 60px rgba(170, 178, 197, 0.2);\n        margin-bottom: 80px;\n    }\n"]))),cn=function(n){var e=n.chartData,t=(0,V.Z)().width,i=e.labels.length;(0,A.useLayoutEffect)((function(){var n=document.querySelector(".chart-box");if(i>=12&&t<=480){var e=60*(i-12)+400;n.style.height="".concat(e,"px")}else n.style.height=i<=3&&t<=480?"200px":"410px"}),[i]);var a={indexAxis:t<=480&&"y",barThickness:function(){var n=29,e=55;return t<=480&&i>=13?((t-(i-1)*5)/i).toFixed(0):t<=480&&i<=13?20:t<=768&&i>=10?((t-(i-1)*n)/i).toFixed(0):t<=768&&i<=10?95:t>=768&&i>=9?((t-(i-1)*e)/i).toFixed(0):t>=768&&i<=9?100:void 0}(),responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,max:1.3*Math.max.apply(Math,(0,F.Z)(e.datasets[0].data)),grid:{display:!1},ticks:{display:t>=480,align:"top"},border:{display:t>=480}},y:{display:!0,max:1.2*Math.max.apply(Math,(0,F.Z)(e.datasets[0].data)),ticks:{z:1,padding:10,mirror:!0,display:t<=480},border:{display:!1},grid:{display:t>=480}}},plugins:{datalabels:{anchor:"end",align:"top",rotation:t>=480?-15:0,padding:{left:0,bottom:25},offset:-4,formatter:function(n,e){return"".concat(n.toFixed(0)," UAH")},font:{weight:400,size:12,color:"#52555F"}}}};return(0,I.jsx)(sn,{className:"chart-box",children:(0,I.jsx)(rn.$Q,{data:e,options:a,plugins:[on.Z]})})},ln=t(7892),dn=t(2024),xn=t(3210),pn=b.Z.div(p||(p=(0,v.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column-reverse;\n  gap: 32px;\n  margin-bottom: 32px;\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n  }\n"]))),un=b.Z.div(u||(u=(0,v.Z)(["\n  padding: 0 20px;\n  @media screen and (min-width: 480px) {\n    padding: 0 32px;\n  }\n  @media screen and (min-width: 480px) {\n    padding: 0 123px;\n  }\n  @media screen and (min-width: 1280px) {\n    max-width: 1130px;\n    padding: 0px 15px;\n    margin: 0 auto;\n  }\n"]))),mn=b.Z.div(m||(m=(0,v.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 32px;\n"]))),hn={Alcohol:P.OI,Products:P.QI,Entertainment:P.b9,Health:P.S9,Technics:P.vn,Transport:P.J7,"For home":P.LM,"Sports and hobby":P.aw,Education:P.TS,Other:P.tu,Utilities:P.dU,Salary:P.Zb,"Additional income":P.Vr};function fn(){var n=(0,ln.a)().isRefreshing,e=(0,z.v9)(B.q6),t=(0,z.v9)((function(n){return n.transactions.expenseCategory})),i=(0,z.v9)((function(n){return n.transactions.incomeCategory})),a=(0,z.I0)(),r=(0,tn.A)().transSwitch,o=(0,V.Z)().width,s=[],c=(0,A.useState)(null),l=(0,f.Z)(c,2),d=l[0],x=l[1];if((0,A.useEffect)((function(){n||a((0,U.Nv)((0,N.Z)(new Date,"yyyy-MM")))}),[a,n]),!e||!t||!i)return null;var p=e.incomes,u=e.expenses,m=p.incomeTotal,g=p.incomesData,y=u.expenseTotal,v=u.expensesData,b=[{trans:"Income",total:m},{trans:"Expense",total:y}],j={labels:b.map((function(n){return n.trans})),datasets:[{label:r,data:b.map((function(n){return n.total})),backgroundColor:b.map((function(n,e){return e%1===0&&e%4===0?"#FF751D":"#FED9BF"})),borderRadius:10}]};function Z(n,e){var t,i=(0,h.Z)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a in e&&s.push({total:e[a].total,SvgIcon:hn[a],category:a})}}catch(r){i.e(r)}finally{i.f()}}"expenses"===r?Z(t,v):Z(i,g);var w=function(){x(null)};return(0,I.jsx)(dn.Z,{type:"Main",children:(0,I.jsxs)(un,{style:{padding:"20px"},children:[o<=767.95?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(_,{to:"/",width:o,children:[(0,I.jsx)(P.xh,{fill:"#FF751D"}),o>=480&&(0,I.jsx)(S,{children:"Main page"})]}),(0,I.jsxs)(pn,{children:[(0,I.jsx)(xn.y,{}),(0,I.jsx)(q,{setChartToDefault:w})]})]}):(0,I.jsxs)(mn,{children:[(0,I.jsxs)(_,{to:"/",children:[(0,I.jsx)(P.xh,{fill:"#FF751D"}),o>=480&&(0,I.jsx)(S,{children:"Main page"})]}),(0,I.jsx)(xn.y,{}),(0,I.jsx)(q,{setChartToDefault:w})]}),(0,I.jsx)(M,{incomeTotal:m,expenseTotal:y}),(0,I.jsx)(en,{categories:s,onCategoryClick:function(n){var e;e="income"===r?g[n]:v[n];var t=Object.keys(e).map((function(n){return{subCategory:n,amount:e[n]}})).slice(1).sort((function(n,e){return Number(e.amount)-Number(n.amount)}));x({labels:t.map((function(n){return n.subCategory})),datasets:[{label:n||r,data:t.map((function(n){return n.amount})),backgroundColor:t.map((function(n,e){return e%1===0&&e%4===0?"#FF751D":"#FED9BF"})),borderRadius:10,barPercentage:.5}]})},children:(0,I.jsx)(an,{setChartToDefault:w})}),(0,I.jsx)(cn,{chartData:null!==d&&void 0!==d?d:j})]})})}}}]);
//# sourceMappingURL=467.d9a8890c.chunk.js.map